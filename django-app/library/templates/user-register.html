{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Registration</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: #F5F5F7;
      color: #1C1C1E;
    }

    .fade {
      animation: fadeIn 0.4s ease forwards;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center">

  <div class="w-full max-w-md bg-white rounded-3xl shadow-xl p-10 fade">

    <!-- Title -->
    <h1 class="text-3xl font-bold text-center mb-6">Create Account</h1>
    <p class="text-center text-gray-600 mb-8">Join our library community!</p>

    <!-- Form -->
    <form method="post" class="space-y-6">
      {% csrf_token %}

      <!-- Render Django fields manually for styling -->
      {% for field in form %}
        <div class="flex flex-col">
          <label class="font-medium text-gray-800 mb-1">{{ field.label }}</label>
          {{ field }}
          {% if field.errors %}
            <p class="text-red-600 text-sm mt-1">{{ field.errors.0 }}</p>
          {% endif %}
        </div>

        <script>
          // Apply Tailwind classes to Django auto-generated inputs
          document.addEventListener("DOMContentLoaded", () => {
            const el = document.getElementById("id_{{ field.name }}");
            if (el) {
              el.classList.add(
                "w-full", "px-4", "py-3",
                "rounded-xl", "border", "border-gray-300",
                "bg-gray-50", "focus:outline-none",
                "focus:ring-2", "focus:ring-blue-500",
                "transition"
              );
            }
          });
        </script>
      {% endfor %}

      <!-- Submit Button -->
      <button
        type="submit"
        class="w-full py-3 bg-blue-600 hover:bg-blue-500 text-white font-semibold rounded-xl shadow-md transition-all"
      >
        Register
      </button>
    </form>

    <!-- Login link -->
    <p class="text-center text-gray-600 text-sm mt-6">
      Already have an account?
      <a href="{% url 'auth_login' %}" class="text-blue-600 hover:underline">Log in</a>
    </p>

  </div>

</body>
</html>
